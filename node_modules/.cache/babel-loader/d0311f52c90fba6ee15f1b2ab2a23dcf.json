{"ast":null,"code":"var _jsxFileName = \"/Users/Sigi/Desktop/Airbnb/front-end/my-project/src/components/ListingCard.js\";\nimport React, { useState, useEffect } from 'react';\nimport axiosWithAuth from '../utils/axiosWithAuth';\nimport { useHistory, useParams } from 'react-router-dom';\nimport { Form, Button, Label, Error } from '../style/style';\n\nconst ListingCard = () => {\n  const [editing, setEditing] = useState(false);\n  const userId = localStorage.getItem('user id');\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  const [listingData, setListingData] = useState([]);\n  const listing = {\n    listingname: listingData.listingname,\n    location: listingData.location,\n    maxnumguests: listingData.maxnumguests,\n    minnumnights: listingData.minnumnights,\n    numbeds: listingData.numbeds,\n    petsallowed: listingData.petsallowed,\n    optimalPrice: listingData.optimalPrice,\n    userId: parseInt(userId)\n  };\n\n  const onChange = e => {\n    e.preventDefault();\n    setListingData({ ...listingData,\n      [e.target.name]: e.target.value\n    });\n  }; //Use effect fires when component mounts, then sending out axios call\n\n\n  useEffect(() => {\n    getData();\n  }, []);\n\n  const getData = () => {\n    axiosWithAuth().get(`https://seanmx96-airbnb-optimal-price.herokuapp.com//listings/listing/${id}`).then(res => {\n      console.log(res);\n      setListingData(res.data);\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const deleteEntry = () => {\n    axiosWithAuth().delete(`https://seanmx96-airbnb-optimal-price.herokuapp.com//listings/listing/${id}`).then(res => {\n      console.log(res);\n      history.push('/userprofile');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const saveEntry = e => {\n    e.preventDefault();\n    axiosWithAuth().put(`https://seanmx96-airbnb-optimal-price.herokuapp.com//listings/listing/${id}`, listing).then(res => {\n      console.log(res);\n      setEditing(!editing);\n      history.push('/userprofile');\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n\n  const editEntry = () => {\n    setEditing(!editing);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 17\n    }\n  }, \"Optimal price for this listing: \", listingData.optimalPrice), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }, \"Listing name: \", listingData.listingname), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 17\n    }\n  }, \"Location: \", listingData.location), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 17\n    }\n  }, \"Maximum guests: \", listingData.maxnumguests), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 17\n    }\n  }, \"Minimum nights: \", listingData.minnumnights), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 17\n    }\n  }, \"Beds: \", listingData.numbeds), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 17\n    }\n  }, \"Pets allowed: \", listingData.petsallowed), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: editEntry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 17\n    }\n  }, \"Edit\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => {\n      deleteEntry(id);\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 17\n    }\n  }, \"Delete\")), editing ? /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: saveEntry,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 17\n    }\n  }, \"Listing Name:\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"listingname\",\n    onChange: onChange,\n    value: listingData.listingname,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 13\n    }\n  }, \"Location:\\xA0\", /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    name: \"location\",\n    value: listingData.location,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117,\n      columnNumber: 13\n    }\n  }, \"Maximum Guests:\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"maxnumguests\",\n    value: listingData.maxnumguests,\n    onChange: onChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 21\n    }\n  }, \"-- None --\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 21\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 21\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 21\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127,\n      columnNumber: 21\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 21\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129,\n      columnNumber: 21\n    }\n  }, \"6\"))), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }\n  }, \"Minimum Stay:\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"minnumnights\",\n    onChange: onChange,\n    value: listingData.minnumnights,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140,\n      columnNumber: 21\n    }\n  }, \"-- None --\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"One Night\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 21\n    }\n  }, \"One Night\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Two Nights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 21\n    }\n  }, \"Two Nights\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Three Nights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 143,\n      columnNumber: 21\n    }\n  }, \"Three Night\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Four Nights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 21\n    }\n  }, \"Four Nights\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Five Nights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 21\n    }\n  }, \"Five Nights\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"Six Nights\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 21\n    }\n  }, \"Six Nights\"))), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 13\n    }\n  }, \"Beds:\\xA0\", /*#__PURE__*/React.createElement(\"select\", {\n    name: \"numbeds\",\n    onChange: onChange,\n    value: listingData.numbeds,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"option\", {\n    value: \"\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 21\n    }\n  }, \"-- Select One --\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"1\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 21\n    }\n  }, \"1\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"2\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 21\n    }\n  }, \"2\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 21\n    }\n  }, \"3\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 21\n    }\n  }, \"4\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"5\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 21\n    }\n  }, \"5\"), /*#__PURE__*/React.createElement(\"option\", {\n    value: \"6\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 21\n    }\n  }, \"6\"))), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168,\n      columnNumber: 13\n    }\n  }, \"Pets Allowed:\"), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 13\n    }\n  }, \"Yes\", /*#__PURE__*/React.createElement(\"input\", {\n    checked: listingData.petsallowed === true,\n    value: \"true\",\n    onChange: onChange,\n    name: \"petsallowed\",\n    type: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 21\n    }\n  })), /*#__PURE__*/React.createElement(Label, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 17\n    }\n  }, \"No\", /*#__PURE__*/React.createElement(\"input\", {\n    checked: listingData.petsallowed === false,\n    value: \"false\",\n    onChange: onChange,\n    name: \"petsallowed\",\n    type: \"radio\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 17\n    }\n  })), /*#__PURE__*/React.createElement(\"button\", {\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 17\n    }\n  }, \"Save Edit\")) : /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 21\n    }\n  }, \"Welcome to the Thunderdome\"));\n};\n\nexport default ListingCard;","map":{"version":3,"sources":["/Users/Sigi/Desktop/Airbnb/front-end/my-project/src/components/ListingCard.js"],"names":["React","useState","useEffect","axiosWithAuth","useHistory","useParams","Form","Button","Label","Error","ListingCard","editing","setEditing","userId","localStorage","getItem","id","history","listingData","setListingData","listing","listingname","location","maxnumguests","minnumnights","numbeds","petsallowed","optimalPrice","parseInt","onChange","e","preventDefault","target","name","value","getData","get","then","res","console","log","data","catch","err","deleteEntry","delete","push","saveEntry","put","editEntry"],"mappings":"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","sourcesContent":["import React, {useState, useEffect} from 'react';\nimport axiosWithAuth from '../utils/axiosWithAuth'\nimport {useHistory, useParams} from 'react-router-dom';\nimport {Form, Button, Label, Error} from '../style/style'\n\nconst ListingCard = () => {\n\n    const [editing, setEditing] = useState(false);\n    const userId = localStorage.getItem('user id')\n    const { id } = useParams();\n    const history = useHistory()\n    const [listingData, setListingData] = useState([])\n\n    \n    const listing = {\n        listingname: listingData.listingname,\n        location: listingData.location,\n        maxnumguests: listingData.maxnumguests,\n        minnumnights: listingData.minnumnights,\n        numbeds: listingData.numbeds,\n        petsallowed: listingData.petsallowed,\n        optimalPrice: listingData.optimalPrice,\n        userId: parseInt(userId) }\n\n        \n    const onChange = e =>{\n        e.preventDefault()\n        setListingData({\n          ...listingData,\n            [e.target.name]: e.target.value\n    \n        })\n        }\n\n    //Use effect fires when component mounts, then sending out axios call\n    useEffect(()=>{\n        getData()\n    },[])\n\n    const getData = () =>{\n        axiosWithAuth()\n            .get(`https://seanmx96-airbnb-optimal-price.herokuapp.com//listings/listing/${id}`)\n            .then(res=>{\n                console.log(res)\n                setListingData(res.data)\n            })\n            .catch(err=>{\n                console.log(err)\n            })\n\n    }\n\nconst deleteEntry = () =>{\n    axiosWithAuth()\n        .delete(`https://seanmx96-airbnb-optimal-price.herokuapp.com//listings/listing/${id}`)\n        .then(res=>{\n            console.log(res)\n            history.push('/userprofile');\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n}\nconst saveEntry = e =>{\n    e.preventDefault()\n    axiosWithAuth()\n        .put(`https://seanmx96-airbnb-optimal-price.herokuapp.com//listings/listing/${id}`, listing)\n        .then(res=>{\n            console.log(res)\n            setEditing(!editing)\n            history.push('/userprofile');\n        })\n        .catch(err=>{\n            console.log(err)\n        })\n\n}\nconst editEntry = () =>{\n    setEditing(!editing)\n}\n\n    return(\n       <div>\n            <div>\n                <h2>Optimal price for this listing: {listingData.optimalPrice}</h2>\n                <h4>Listing name: {listingData.listingname}</h4>\n                <h4>Location: {listingData.location}</h4>\n                <h4>Maximum guests: {listingData.maxnumguests}</h4>\n                <h4>Minimum nights: {listingData.minnumnights}</h4> \n                <h4>Beds: {listingData.numbeds}</h4> \n                <h4>Pets allowed: {listingData.petsallowed}</h4>  \n                <button onClick={editEntry}>Edit</button>\n                <button onClick={()=>{deleteEntry(id)}}>Delete</button>\n            </div>\n            {editing ? (<form onSubmit={saveEntry}>\n                <Label>Listing Name:&nbsp;\n                <input\n                    type='text'\n                    name='listingname'\n                    onChange={onChange}\n                    value={listingData.listingname}\n                />\n            </Label>\n            {/* <Error>{errors.listingname}</Error> */}\n\n            <Label>Location:&nbsp;\n                <input\n                    type='text'\n                    name='location'\n                    value={listingData.location}\n                    onChange={onChange}\n                />\n            </Label>\n            {/* <Error>{errors.location}</Error> */}\n\n            <Label>Maximum Guests:&nbsp;\n                <select\n                    name='maxnumguests'\n                    value={listingData.maxnumguests}\n                    onChange={onChange}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='1'>1</option>\n                    <option value='2'>2</option>\n                    <option value='3'>3</option>\n                    <option value='4'>4</option>\n                    <option value='5'>5</option>\n                    <option value='6'>6</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.maxnumguests}</Error> */}\n\n            <Label>Minimum Stay:&nbsp;\n                <select\n                    name='minnumnights'\n                    onChange={onChange}\n                    value={listingData.minnumnights}\n                >\n                    <option value=''>-- None --</option>\n                    <option value='One Night'>One Night</option>\n                    <option value='Two Nights'>Two Nights</option>\n                    <option value='Three Nights'>Three Night</option>\n                    <option value='Four Nights'>Four Nights</option>\n                    <option value='Five Nights'>Five Nights</option>\n                    <option value='Six Nights'>Six Nights</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.minnumnights}</Error> */}\n\n            <Label>Beds:&nbsp;\n                <select\n                    name='numbeds'\n                    onChange={onChange}\n                    value={listingData.numbeds}\n                >\n                    <option value=''>-- Select One --</option>\n                    <option value='1'>1</option>\n                    <option value='2'>2</option>\n                    <option value='3'>3</option>\n                    <option value='4'>4</option>\n                    <option value='5'>5</option>\n                    <option value='6'>6</option>\n                </select>\n            </Label>\n            {/* <Error>{errors.password}</Error> */}\n\n            <h4>Pets Allowed:</h4>\n            <Label>Yes\n                    <input \n                        checked={listingData.petsallowed === true}\n                        value='true'\n                        onChange={onChange}\n                        name='petsallowed'\n                        type='radio'\n                    />\n                </Label>\n                <Label>No\n                <input \n                    checked={listingData.petsallowed === false}\n                    value='false'\n                    onChange={onChange}\n                    name='petsallowed'\n                    type='radio'\n                />\n                </Label> \n                <button type='submit'>Save Edit</button>\n      \n                </form>)\n                :(\n                    <h1>Welcome to the Thunderdome</h1>\n                )}\n        </div> \n    )\n}\nexport default ListingCard"]},"metadata":{},"sourceType":"module"}